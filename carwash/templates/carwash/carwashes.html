{% extends "__base.html" %}

{% block container %}

<a class="btn btn-outline-secondary" href="{% url 'main:carwash-create' %}" role="button"> Create new </a>
<table class="table">
    <tr>
        <thead class="thead-light">
            <tr>
                <th scope="col">Name</th>
                <th scope="col">Website</th>
                <th></th><th></th><th></th>
            </tr>
        </thead>
        <tbody>
            {% for i in object_list %}
            <tr>
                <td>{{i.name}}</td>
                <td>{{i.website}}</td>
                <td><a class="btn btn-outline-info" href="{% url 'main:carwash' i.pk %}" role="button"> Open </a></td>
                <td><a class="btn btn-outline-primary" href="{% url 'main:carwash-update' i.pk %}" role="button"> Update </a></td>
                <td><a class="btn btn-outline-danger" href="{% url 'main:carwash-delete' i.pk %}" role="button"> Delete </a></td>
            </tr>
            {% endfor %}
        </tbody>
</table>
<div id="mapid" style="height:800px"></div>
<script>
var geojsonFeature={{geojson}}
var mymap = L.map('mapid').setView([30.5223, 50.4508], 13);
L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
		id: 'mapbox/streets-v11',
		tileSize: 512,
		zoomOffset: -1
	}).addTo(mymap);
L.geoJSON(geojsonCollection).addTo(mymap);
</script>
{% endblock %}